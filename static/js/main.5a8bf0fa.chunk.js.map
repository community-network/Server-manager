{"version":3,"sources":["components/Buttons.module.css","components/User.module.css","components/Group.module.css","components/Sidebar.module.css","components/Status.module.css","components/Flex.module.css","components/Card.module.css","components/PageContainer.module.css","components/Header.module.css","JsonApi.js","api.js","components/PageContainer.js","components/Sidebar.js","components/Status.js","components/Buttons.js","components/Flex.js","components/Card.js","components/Header.js","components/User.js","components/Group.js","components/Server.js","views/Home.js","views/Account.js","views/Developer.js","views/Server.js","views/Group.js","views/index.js","App.js","index.js","components/Server.module.css"],"names":["module","exports","endPoints","dev","prod","OperationsApi","asyncUser","this","logoutAndChangeUser","user","fetchMethod","getUserInfo","sid","playername","reason","postJsonMethod","map","name","time","toString","team","getJsonMethod","devGroups","Error","groupName","discordId","modRole","adminRole","remid","gid","type","value","answer","error","message","uid","nickname","alias","game","data","isWorking","window","location","constructApiUrl","method","params","paramStr","s","fetch","credentials","result","options","body","JSON","stringify","headers","postMethod","then","json","defaultUser","discord","discriminator","avatar","auth","inGuild","isAdmin","isDeveloper","isOwner","signedIn","response","hasOwnProperty","PageContainer","props","className","styles","children","PageColumn","TopSidebar","to","title","src","Logo","PageLink","activeClassName","PageLinkActive","PageButton","target","rel","href","onClick","Sidebar","useQuery","userError","isLoading","devLink","accountLink","logoutLink","groupLinks","history","useHistory","queryClient","useQueryClient","logoutExecutor","useMutation","v","logout","onMutate","a","cancelQueries","prevUser","getQueryData","setQueryData","old","onSettled","variables","context","invalidateQueries","i","mutate","push","permissions","isAdminOf","group","id","style","display","flexDirection","height","flexGrow","marginBottom","LoadingIcon","viewBox","loadingIcon","fill","d","ErrorIcon","errorIcon","Status","status","undefined","Button","background_color","width","button","disabled","callback","ButtonLink","ButtonRow","buttonRow","TextInput","defaultValue","placeholder","onReset","onChange","SmallButton","_","vars","content","Switch","useState","checked","checkedSwitch","clickSwitch","switchClassName","SwitchActive","switchTheSwitch","newVal","onKeyPress","e","charCode","role","tabindex","SwitchInner","SwitchOn","SwitchOff","SwitchHandle","DropdownButton","open","setOpen","container","React","useRef","useEffect","handleClickOutside","event","current","contains","document","addEventListener","removeEventListener","ref","dropdown","ul","option","li","ChoosePageButtons","active","setActive","ChoosePageButtonHolder","buttons","ChoosePageButtonActive","ChoosePageButton","Column","Row","Card","card","CardRow","PageCard","Header","UserRow","alt","Avatar","DiscordName","DiscordNum","secure","xmlns","UserStRow","dateAdded","Date","parse","addedAt","dateString","getUTCDate","getUTCMonth","getUTCHours","getUTCMinutes","UserRowSt","DateAdded","DiscordId","FakeUserStRow","GroupRow","GroupName","ServerRow","server","GameStatsAd","gameStatsAd","SmallText","SettingsRow","SmallIntInput","SmallInput","ServerInfo","ServerInfoColumn","ServerDescriptionColumn","autoBanKick","autoPingKick","discordBotChannel","discordBotLang","discordBotMinPlayerAmount","discordBotPrevReqCount","discordBotStartedAmount","ServerRotation","length","info","rotationId","setRotationId","ServerDescriptionRow","serverImage","url","GameInfo","ServerName","prefix","mode","serverInfo","serverStatusOk","serverStatusErr","serverStatus","rotate","SwitchGame","rotation","index","mapname","PlayerInfo","players","moveTeam","getDropdownOptions","player","giveVip","removeVip","PlayerRow","PlayerName","platoon","ping","PlayerButtons","onMove","ServerInfoHolder","ServerInfoRow","BanList","banList","maxHeight","overflowY","marginTop","borderCollapse","BanRow","BanDisplayName","displayName","admin","banned_until","ban_timestamp","Home","loginButton","openLoginPage","maxWidth","Account","userLine","Developer","getDevGroups","isError","groups","g","Server","serverCard","playerNicknameTeam","match","getServer","staleTime","getServerGame","gameError","runningGame","getBanList","playerList","playerInGame","playerName","setPlayerName","addVipStatus","changeAddVipStatus","removeVipStatus","changeRemoveVipStatus","unbanStatus","changeUnbanStatus","tabsListing","setTabsListing","UnbanPlayer","unbanPlayer","onError","err","newTodo","RemoveVip","AddVip","addVip","movePlayer","previousGroup","find","filter","p","serverTabs","catTabs","changeRotation","banlist","viplist","settings","isOpsMode","f1","f2","marginRight","ServerKickPlayer","eaid","setReason","KickPlayer","kickPlayer","ServerBanPlayer","banTime","setBanTime","BanPlayer","banPlayer","ServerAction","action","deleteIcon","Group","getGroup","groupError","removeAdmin","removeGroupAdmin","now","toUTCString","admins","removeServer","servers","removeOwner","removeGroupOwner","owners","listing","setListing","settingsListing","setSettingsListing","catListing","GroupOwners","onDelete","GroupAdmins","GroupServers","catSettings","account","GroupServerAccount","GroupDiscordSettings","danger","GroupDangerZone","pageCycle","settingsCycle","hasRights","adminList","sort","b","ownerList","owner","allowedTo","setSid","setRemid","applyStatus","setApplyStatus","cookie","editCookies","editGroup","onSuccess","setTimeout","margin","alignSelf","adminId","setAdminId","modId","setModId","serverId","setServerId","discordGroupId","discordModRoleId","discordAdminRoleId","editDiscordDetails","setGroupName","editGroupName","color","AddGroupOwner","AddGroupOwnerExecute","addGroupOwner","UTCNow","AddGroupAdmin","canAdd","addAdminState","changeState","AddGroupAdminExecute","addGroupAdmin","updateState","values","newState","AddGroup","roleDisplay","addGroupState","AddNewGroupExecute","addGroup","refetchQueries","checkInputVariables","newVariables","newGroupState","newVars","DeleteGroup","thisGid","DeleteGroupExecute","removeGroup","previousGroups","AddGroupServer","AddGroupServerExecute","addGroupServer","EditGroup","Views","exact","path","component","createHashHistory","App","useLocation","TransitionGroup","CSSTransition","classNames","timeout","key","QueryClient","ReactDOM","render","StrictMode","QueryClientProvider","client","getElementById"],"mappings":"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","file":"static/js/main.5a8bf0fa.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonRow\":\"Buttons_buttonRow__dKjZj\",\"button\":\"Buttons_button__1VKNK\",\"container\":\"Buttons_container__np2ep\",\"dropdown\":\"Buttons_dropdown__13J8f\",\"ul\":\"Buttons_ul__3tJo8\",\"li\":\"Buttons_li__1sX4Q\",\"TextInput\":\"Buttons_TextInput__35GbL\",\"SmallButton\":\"Buttons_SmallButton__3rzhd\",\"Switch\":\"Buttons_Switch__39fTc\",\"SwitchActive\":\"Buttons_SwitchActive__2ViHx\",\"SwitchInner\":\"Buttons_SwitchInner__3LnS9\",\"SwitchHandle\":\"Buttons_SwitchHandle__2b8wJ\",\"SwitchOff\":\"Buttons_SwitchOff__3Oaf-\",\"SwitchOn\":\"Buttons_SwitchOn__1_Jsb\",\"ChoosePageButton\":\"Buttons_ChoosePageButton__1-OpM\",\"ChoosePageButtonActive\":\"Buttons_ChoosePageButtonActive__13GmV\",\"ChoosePageButtonHolder\":\"Buttons_ChoosePageButtonHolder__VfFyz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"UserRow\":\"User_UserRow__1fzJH\",\"Avatar\":\"User_Avatar__3XgeX\",\"DiscordName\":\"User_DiscordName__j-kJJ\",\"DiscordNum\":\"User_DiscordNum__odqe3\",\"secure\":\"User_secure__ADMpb\",\"UserRowSt\":\"User_UserRowSt__D7e-x\",\"DiscordId\":\"User_DiscordId__CJ0BY\",\"DateAdded\":\"User_DateAdded__1FZZj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GroupRow\":\"Group_GroupRow__1Ew1c\",\"GroupName\":\"Group_GroupName__3G6eX\",\"gameStatsAd\":\"Group_gameStatsAd__2Eob_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PageLink\":\"Sidebar_PageLink__3fxKj\",\"PageButton\":\"Sidebar_PageButton__3ug-M\",\"PageLinkActive\":\"Sidebar_PageLinkActive___nnPr\",\"Sidebar\":\"Sidebar_Sidebar__c0TTh\",\"Logo\":\"Sidebar_Logo__2HFo5\",\"TopSidebar\":\"Sidebar_TopSidebar__BQCyG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"Status_status__1LWe8\",\"loadingIcon\":\"Status_loadingIcon__3owGX\",\"Loading\":\"Status_Loading__v1uza\",\"errorIcon\":\"Status_errorIcon__2HXFb\",\"Shake\":\"Status_Shake__30h0w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Column\":\"Flex_Column__3cQ9_\",\"Row\":\"Flex_Row__3SC-0\",\"Grow\":\"Flex_Grow__f7am0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__3F8np\",\"CardRow\":\"Card_CardRow__1NbF3\",\"PageCard\":\"Card_PageCard__3UgmB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PageContainer\":\"PageContainer_PageContainer__1PlzU\",\"PageColumn\":\"PageContainer_PageColumn__3Qegy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"Header_Header__3VoE2\"};","\nconst MODE = \"dev\";\n\nconst endPoints = {\n    dev: \"https://homedev.gametools.network/api/\",\n    prod: \"https://manager-api.gametools.network/api/\"\n}\n\nexport default class JsonClient {\n  constructor() {\n    this.isWorking = true;\n    this.user = this.getUserInfo();\n  }\n  openLoginPage() {\n    window.location = this.constructApiUrl(\"login\");\n  }\n    constructApiUrl(method, params) {\n        params = params || {};\n        let paramStr = \"\";\n        for (let s in params) {\n            paramStr += s + \"=\" + params[s] + \"&\";\n        }\n        if (paramStr !== \"\") paramStr = \"?\" + paramStr;\n        const apiEP = endPoints[MODE];\n        return apiEP + method + paramStr;\n    }\n    async fetchMethod(method, params) {\n        let result = await fetch(this.constructApiUrl(method, params), {\n            credentials: \"include\"\n        });\n        return result;\n    }\n    async postMethod(method, params) {\n        let result = await fetch(this.constructApiUrl(method, {}), params);\n        return result;\n    }\n  async postJsonMethod(method, params) {\n    const options = {\n      method: 'POST',\n      body: JSON.stringify(params),\n      credentials: \"include\",\n      headers: {\n          'Content-Type': 'application/json'\n      }\n    };\n    return await this.postMethod(method, options).then(result => {\n      return result.json().then(json => json, error => ({ \"error\": error }));\n    }, error => ({ \"error\": error }));\n  }\n  getJsonMethod(method, params) {\n    return this.fetchMethod(method, params).then(result => {\n      return result.json().then(json => json, error => ({ \"error\": error }));\n    }, error => ({ \"error\": error }));\n  }\n  async getUserInfo() {\n    const defaultUser = {\n      discord: {\n        name: \"\",\n        discriminator: 0,\n        avatar: \"\"\n      },\n      auth: {\n          inGuild: false,\n          isAdmin: false,\n          isDeveloper: false,\n          isOwner: false,\n          signedIn: false\n      }\n    };\n    let response = await this.getJsonMethod(\"getinfo\");\n    if (!response.hasOwnProperty(\"error\")) {\n      return response;\n    }\n    return defaultUser;\n  }\n}","import JsonClient from \"./JsonApi\";\n\nexport class ApiProvider extends JsonClient {\n\n    constructor() {\n        super();\n    }\n\n    logout() {\n        var asyncUser = this.logoutAndChangeUser();\n        this.user = asyncUser;\n    }\n\n    async logoutAndChangeUser() {\n        await this.fetchMethod(\"logout/\");\n        var user = await this.getUserInfo();\n        return user;\n    }\n\n    async kickPlayer({ sid, playername, reason }) {\n        return await this.postJsonMethod(\"changeplayer\", {\n            \"request\": \"kickPlayer\",\n            \"playername\": playername,\n            \"serverid\": sid,\n            \"reason\": reason\n        });\n    }\n\n    async changeRotation({ sid, map }) {\n        return await this.postJsonMethod(\"changelevel\", {\n            \"mapnumber\": map,\n            \"serverid\": sid\n        });\n    }\n\n    async banPlayer({ name, reason, time, sid }) {\n        return await this.postJsonMethod(\"changeserver\", {\n            \"request\": \"addServerBan\",\n            \"playername\": name,\n            \"serverid\": sid,\n            \"bantime\": time.toString(),\n            \"reason\": reason\n        }); \n    }\n\n    async unbanPlayer({ name, reason, sid }) {\n        return await this.postJsonMethod(\"changeserver\", {\n            \"request\": \"removeServerBan\",\n            \"playername\": name,\n            \"serverid\": sid,\n            \"reason\": reason\n        });\n    }\n\n    async addVip({ sid, name, reason }) {\n        return await this.postJsonMethod(\"changeserver\", {\n            \"request\": \"addServerVip\",\n            \"playername\": name,\n            \"serverid\": sid,\n            reason\n        });\n    }\n\n    async removeVip({ sid, name, reason }) {\n        return await this.postJsonMethod(\"changeserver\", {\n            \"request\": \"removeServerVip\",\n            \"playername\": name,\n            \"serverid\": sid,\n            reason\n        });\n    }\n\n    async movePlayer({ sid, team, name }) {\n        return await this.postJsonMethod(\"moveplayer\", {\n            \"teamid\": team,\n            \"playername\": name,\n            \"serverid\": sid\n        });\n    }\n\n    async getBanList({ sid }) {\n        return await this.getJsonMethod(\"infolist\", {\n            \"type\": \"bannedList\",\n            \"serverid\": sid\n        });\n    }\n\n    async getLogs() {\n        return await this.getJsonMethod(\"taillog\");\n    }\n\n    async getDevGroups() {\n        var devGroups = await this.getJsonMethod(\"devgroups\");\n        if (\"error\" in devGroups) {\n            throw Error(\"Error on server.\");\n        }\n        return devGroups;\n    }\n\n    async addGroup({ groupName, discordId, modRole, adminRole, sid, remid }) {\n        return await this.postJsonMethod(\"addgroup\", {\n            \"groupname\": groupName,\n            \"adminroleid\": adminRole,\n            \"discordid\": discordId,\n            \"modroleid\": modRole,\n            \"remid\": remid,\n            \"sid\": sid,\n        });\n    }\n\n    async removeGroup({ gid }) {\n        return await this.postJsonMethod(\"delgroup\", {\n            \"groupId\": gid,\n        });\n    }\n\n    async editGroup({ gid, type, value }) {\n        var answer = await this.postJsonMethod(\"editgroup\", {\n            \"groupid\": gid,\n            \"values\": value\n        });\n        if (\"error\" in answer) {\n            throw new Error(answer.error.message)\n        }\n    }\n\n    async getGroup(gid) {\n        return await this.getJsonMethod(\"groups\", { \"groupid\": gid });\n    }\n\n    async addGroupOwner({ gid, uid, nickname }) {\n        return await this.postJsonMethod(\"addowner\", {\n            \"userid\": uid, // discord userid\n            \"nickname\": nickname, // will change when the user signs in\n            \"groupid\": gid,\n        });\n    }\n\n    async addGroupServer({ gid, name, alias }) {\n        return await this.postJsonMethod(\"addserver\", {\n            \"servername\": name,\n            \"serveralias\": alias,\n            \"groupid\": gid,\n        });\n    }\n\n    async addGroupAdmin({ gid, uid, nickname }) {\n        return await this.postJsonMethod(\"addadmin\", {\n            \"userid\": uid, // discord userid\n            \"nickname\": nickname, // will change when the user signs in\n            \"groupid\": gid,\n        });\n    }\n\n    async removeGroupAdmin({ gid, uid }) {\n        return await this.postJsonMethod(\"deladmin\", {\n            \"userid\": uid,\n            \"groupid\": gid,\n        });\n    }\n\n    async removeGroupOwner({ gid, uid }) {\n        return await this.postJsonMethod(\"delowner\", {\n            \"userid\": uid,\n            \"groupid\": gid,\n        });\n    }\n\n    async getServer(sid) {\n        return await this.getJsonMethod(\"server\", { \"serverid\": sid });\n    }\n\n    async getServerGame(sid) {\n        var game = await this.getJsonMethod(\"servers\", { \"serverid\": sid });\n        if (\"error\" in game.data[0]) {\n            throw Error(game.data[0].error);\n        } else {\n            return game;\n        }\n    }\n\n    async removeServer({ gid, sid }) {\n        return await this.postJsonMethod(\"delserver\", {\n            \"serverid\": sid,\n            \"groupid\": gid,\n        });\n    }\n\n    async renameServer({ name, sid }) {\n        return await this.postJsonMethod(\"renameserver\", {\n            \"serverid\": sid,\n            \"servername\": name,\n        });\n    }\n\n    async changeServerAlias({ gid, alias, sid }) {\n        return await this.postJsonMethod(\"serveralias\", {\n            \"serverid\": sid,\n            \"groupid\": gid,\n            \"serveralias\": alias,\n        });\n    }\n\n\n}\n\nexport const OperationsApi = new ApiProvider();","import React, { useState } from \"react\";\nimport styles from \"./PageContainer.module.css\";\n\n\nexport function PageContainer(props) {\n    return (\n        <div className={styles.PageContainer}>\n            {props.children}\n        </div>\n    );\n\n}\n\nexport function PageColumn(props) {\n    return (\n        <div className={styles.PageColumn}>\n            {props.children}\n        </div>\n    );\n}\n","import React, { useState } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from 'react-query'\nimport { NavLink, Link, useHistory } from 'react-router-dom';\n\nimport styles from \"./Sidebar.module.css\";\n\nimport { OperationsApi } from \"../api\";\n\nfunction TopSidebar() {\n    return (\n        <div className={styles.TopSidebar}>\n            <Link to=\"/\" title=\"Main page\">\n                <img src=\"/Comnet-logo.png\" className={styles.Logo} />\n            </Link>\n        </div>\n    );\n}\n\nfunction PageLink(props) {\n    return (\n        <div className={styles.PageLink}>\n            <NavLink to={props.to} activeClassName={styles.PageLinkActive} title={props.name}>{props.name}</NavLink>\n        </div>\n    );\n}\n\nfunction PageButton(props) {\n    return (\n        <a className={styles.PageButton} target=\"_blank\" rel=\"noopener noreferrer\" href={props.href} title={props.name}>\n            <span onClick={props.onClick}>{props.name}</span>\n        </a>\n    );\n}\n\nexport function Sidebar(props) {\n\n    const { error: userError, data: user, isLoading } = useQuery('user', () => OperationsApi.user);\n\n    var devLink = \"\", accountLink = \"\", logoutLink = \"\", groupLinks = \"\";\n\n    var history = useHistory();\n    const queryClient = useQueryClient();\n\n    const logoutExecutor = useMutation(\n        v => OperationsApi.logout(),\n        {\n            // When mutate is called:\n            onMutate: async (v) => {\n                // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n                await queryClient.cancelQueries('user');\n                // Snapshot the previous value\n                const prevUser = queryClient.getQueryData('user');\n                // Optimistically update to the new value\n                queryClient.setQueryData('user', old => {\n                    return {\n                        discord: {\n                            name: \"\",\n                            discriminator: 0,\n                            avatar: \"\"\n                        },\n                        auth: {\n                            inGuild: false,\n                            isAdmin: false,\n                            isDeveloper: false,\n                            isOwner: false,\n                            signedIn: false\n                        }\n                    };\n                })\n                // Return a context object with the snapshotted value\n                return { prevUser }\n            },\n            // Always refetch after error or success:\n            onSettled: (data, error, variables, context) => {\n                queryClient.invalidateQueries('user')\n            },\n        }\n    );\n\n\n    if (!userError && !isLoading && user) {\n        if (user.auth.signedIn) {\n            if (user.auth.isDeveloper) {\n                devLink = <PageLink to=\"/dev/\" name=\"Developer Options\" />;\n            }\n            accountLink = [\n                <PageLink key={0} to=\"/account/\" name=\"Account\" />,\n                <PageLink key={1} to=\"/group/new/\" name=\"Create Group\" />\n            ];\n            logoutLink = <PageButton onClick={() => { logoutExecutor.mutate({}); history.push('/'); }} name=\"Logout\" />;\n            groupLinks = [];\n            for (let i in user.permissions.isAdminOf) {\n                let group = user.permissions.isAdminOf[i];\n                groupLinks.push(<PageLink to={ \"/group/\" + group.id } name={group.groupName} key={i} />);\n            }\n\n        }\n    }\n\n    \n\n    return (\n        <div className={styles.Sidebar}>\n            <TopSidebar />\n            <div style={{ display: \"flex\", flexDirection: \"column\", height: \"100%\" }}>\n                <div style={{ display: \"flex\", flexGrow: 2, flexDirection: \"column\" }}>\n                    {accountLink}\n                    {devLink}\n                    {groupLinks}\n                </div>\n                <div style={{ display: \"flex\", flexDirection: \"column\", marginBottom: \"30px\"}}>\n                    <PageButton href=\"https://discord.gametools.network/\" name=\"Need help?\" />\n                    {logoutLink}\n                </div>\n            </div>\n        </div>\n    );\n\n}","import React from \"react\";\nimport styles from \"./Status.module.css\";\n\n\nfunction LoadingIcon() {\n    return (\n        <svg viewBox=\"0 0 24 24\" className={styles.loadingIcon}>\n            <path fill=\"currentColor\" d=\"M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z\" />\n        </svg>\n    );\n}\n\nfunction ErrorIcon(props) {\n    return (\n        <svg viewBox=\"0 0 24 24\" className={styles.errorIcon}>\n            <path fill=\"currentColor\" d=\"M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z\" />\n        </svg>\n    );\n}\n\nexport function Status(props) {\n    return (\n        <div className={styles.status}>\n            {(props.status == undefined || props.status == null) ?  \"\" : (props.status) ? <LoadingIcon /> : <ErrorIcon />}\n        </div>\n    );\n}","import React, { useState, useEffect } from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport styles from \"./Buttons.module.css\";\nimport { Status } from \"./Status\";\n\n\nexport function Button(props) {\n    var style = {};\n    if (props.background_color) {\n        style[\"background\"] = props.background_color\n    }\n    if (props.width) {\n        style[\"width\"] = props.width;\n    }\n    return (\n        <button value={props.value} className={styles.button} disabled={props.disabled} onClick={props.callback} title={props.name} style={style}>{props.name}<Status status={props.status} /></button>\n    );\n}\n\nexport function ButtonLink(props) {\n    if (props.disabled) {\n        return <Button name={props.name} disabled={true} />\n    }\n    return (\n        <NavLink style={props.style} className={styles.button} to={props.to} title={props.name}>{props.name}</NavLink>\n    );\n}\n\nexport function ButtonRow(props) {\n    return (\n        <div className={styles.buttonRow}>{props.children}</div>\n    );\n}\n\n\nexport function TextInput(props) {\n/*    var callback = props.callback, elementClassName = styles.TextInput;\n    if (props.disabled) {\n        callback = null;\n        elementClassName = styles.TextInputDis;\n    }*/\n    return (\n        <input defaultValue={props.defaultValue} className={styles.TextInput} disabled={props.disabled} style={props.style} type={props.type || \"text\"} placeholder={props.name} onReset={props.callback} onChange={props.callback} />\n    );\n}\n\nexport function SmallButton(props) {\n    if (props.disabled) {\n        return (\n            \"\"\n        );\n    }\n    return (\n        <div className={styles.SmallButton} onClick={_ => props.callback(props.vars)} title={props.name}>{props.content || props.name}</div>\n    );\n}\n\nexport function Switch(props) {\n\n    const [checkedSwitch, clickSwitch] = useState(props.checked || false);\n    const switchClassName = checkedSwitch ? styles.Switch : styles.SwitchActive;\n\n    const switchTheSwitch = () => {\n        var newVal = !checkedSwitch;\n        clickSwitch(newVal);\n        if (props.callback) props.callback(newVal);\n    };\n\n    /*  If user uses tabs, make it clickable on Enter key */\n    const SwitchOnenter = (e) => {\n        if (e.charCode === 13) switchTheSwitch();\n    };\n\n    return (\n        <div className={switchClassName} onClick={switchTheSwitch} onKeyPress={SwitchOnenter} role=\"switch\" tabindex=\"1\">\n            <span className={styles.SwitchInner}>\n                <span className={styles.SwitchOn}></span>\n                <span className={styles.SwitchOff}></span>\n            </span>\n            <span className={styles.SwitchHandle}></span>\n        </div>\n    );\n}\n\nexport function DropdownButton(props) {\n    const [open, setOpen] = useState(false);\n\n    let container = React.useRef();\n\n    useEffect(() => {\n        let handleClickOutside = (event) => {\n            if (container.current && !container.current.contains(event.target)) {\n                setOpen(false)\n            }\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return function cleanup() {\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        }\n    })\n\n    return (\n        <div className={styles.container} ref={container}>\n            <button type=\"button\" className={styles.button} onClick={() => setOpen(!open)}>{props.name}</button>\n            {open && (<div className={styles.dropdown}>\n                <ul className={styles.ul}>\n                    {\n                        props.options.map(option => <li className={styles.li} onClick={option.callback}>{option.name}</li>)\n                    }\n                </ul>\n            </div>)}\n        </div>\n    );\n}\n\n\nexport function ChoosePageButtons(props) {\n\n    const [active, setActive] = useState(0);\n\n    return (\n        <div className={styles.ChoosePageButtonHolder} >\n            {\n                props.buttons.map((button, i) => (\n                    <div\n                        key={i}\n                        className={(i === active) ? styles.ChoosePageButtonActive : styles.ChoosePageButton}\n                        onClick={_ => { setActive(i); button.callback() }}\n                        title={button.name}\n                    >\n                        {button.content || button.name}\n                    </div>\n                ))\n            }\n        </div>\n    );\n    \n}","import React from \"react\";\n\nimport styles from \"./Flex.module.css\";\n\n\nexport function Column(props) {\n    return (\n        <div className={styles.Column}>{props.children}</div>\n    );\n}\n\nexport function Row(props) {\n    return (\n        <div className={styles.Row}>{props.children}</div>\n    );\n}\n\nexport function Grow(props) {\n    return (\n        <div className={styles.Grow}>{props.children}</div>\n    );\n}","import React from \"react\";\nimport styles from \"./Card.module.css\";\n\nimport { ChoosePageButtons } from \"./Buttons.js\";\n\nexport function Card(props) {\n    return (\n        <div className={styles.card} style={props.style}>\n            {props.children}\n        </div>\n    );\n}\n\nexport function CardRow(props) {\n    return <span className={styles.CardRow}>{props.children}</span>;\n}\n\nexport function PageCard(props) {\n    return (\n        <>\n            <ChoosePageButtons buttons={props.buttons} />\n            <div className={styles.PageCard} style={props.style}>\n                {props.children}\n             </div>\n        </>\n    );\n}","import React from \"react\";\nimport styles from \"./Header.module.css\";\n\n\nexport function Header(props) {\n    return (\n        <div className={styles.Header}>\n            {props.children}\n        </div>\n    );\n}","import React from \"react\";\nimport styles from \"./User.module.css\";\n\nexport function UserRow(props) {\n    var user = props.discord;\n    return (\n        <div className={styles.UserRow}>\n            <img alt=\"\" src={user.avatar} className={styles.Avatar} />\n            <div className={styles.DiscordName}>\n                {user.name}\n                <span className={styles.DiscordNum}>\n                    {user.discriminator}\n                </span>\n            </div>\n            <div className={styles.secure}>\n                <svg viewBox=\"0 0 12 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M6 12C6.39782 12 6.77935 11.842 7.06066 11.5607C7.34196 11.2794 7.5 10.8978 7.5 10.5C7.5 9.6675 6.825 9 6 9C5.60217 9 5.22064 9.15804 4.93934 9.43934C4.65804 9.72065 4.5 10.1022 4.5 10.5C4.5 10.8978 4.65804 11.2794 4.93934 11.5607C5.22064 11.842 5.60217 12 6 12ZM10.5 5.25C10.8978 5.25 11.2794 5.40804 11.5607 5.68934C11.842 5.97065 12 6.35218 12 6.75V14.25C12 14.6478 11.842 15.0294 11.5607 15.3107C11.2794 15.592 10.8978 15.75 10.5 15.75H1.5C1.10218 15.75 0.720644 15.592 0.43934 15.3107C0.158035 15.0294 0 14.6478 0 14.25V6.75C0 5.9175 0.675 5.25 1.5 5.25H2.25V3.75C2.25 2.75544 2.64509 1.80161 3.34835 1.09835C4.05161 0.395088 5.00544 0 6 0C6.49246 0 6.98009 0.0969967 7.43506 0.285452C7.89003 0.473907 8.30343 0.75013 8.65165 1.09835C8.99987 1.44657 9.27609 1.85997 9.46455 2.31494C9.653 2.76991 9.75 3.25754 9.75 3.75V5.25H10.5ZM6 1.5C5.40326 1.5 4.83097 1.73705 4.40901 2.15901C3.98705 2.58097 3.75 3.15326 3.75 3.75V5.25H8.25V3.75C8.25 3.15326 8.01295 2.58097 7.59099 2.15901C7.16903 1.73705 6.59674 1.5 6 1.5Z\" fill=\"#55F165\" />\n                </svg>\n                Logged in\n            </div>\n        </div>\n    );\n}\n\nexport function UserStRow(props) {\n    var user = props.user;\n    var dateAdded = new Date(Date.parse(user.addedAt));\n\n    const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n    var dateString = `${dateAdded.getUTCDate()} ${months[dateAdded.getUTCMonth()]} ${dateAdded.getUTCHours()}:${dateAdded.getUTCMinutes()}`;\n    return (\n        <div className={styles.UserRowSt}>\n            <div className={styles.DiscordName}>\n                {user.name}\n            </div>\n            <div className={styles.DateAdded}>\n                {dateString}\n            </div>\n            <div className={styles.DiscordId}>\n                {user.id}\n            </div>\n            {props.button}\n        </div>\n    );\n}\n\nexport function FakeUserStRow(props) {\n    return (\n        <div className={styles.UserRowSt} />\n    );\n}\n","import React from \"react\";\nimport styles from \"./Group.module.css\";\nimport { Link } from \"react-router-dom\";\n\nexport function GroupRow(props) {\n    var group = props.group;\n    return (\n        <Link className={styles.GroupRow} to={\"/group/\" + group.id}>\n            <span className={styles.GroupName}>{group.groupName}</span>\n            Manage group\n        </Link>\n    );\n}\n\nexport function ServerRow(props) {\n    var server = props.server;\n\n    // If not yet setteled\n    if (server.id === null) {\n        return (\n            <div className={styles.GroupRow}>\n                <span className={styles.GroupName}>{server.name}</span>\n                {props.button}\n            </div>\n        );\n    }\n\n    return (\n        <div className={styles.GroupRow}>\n            <Link className={styles.GroupName} to={\"/server/\" + server.id}>\n                {server.name}\n            </Link>\n            {props.button}\n        </div>\n    );\n}\n\nexport function GroupAdminAccount(props) {\n\n    var { remid, sid } = props.cookie;\n\n    return (\n        <div className={styles.AdminAccount}>\n        </div>\n    );\n\n}\n\nexport function GameStatsAd(props) {\n    return (\n        <a target=\"_blank\" rel=\"noopener noreferrer\" className={styles.gameStatsAd} href=\"https://discord.com/oauth2/authorize?client_id=714524944783900794&scope=bot&permissions=83968\">\n            <img src=\"./game-stats.png\" />\n            <span>Add Game Stats bot on your Discord server, in order to control BF1 servers with cammands.</span>\n        </a>\n    );\n}","import React, { useState } from \"react\";\nimport styles from \"./Server.module.css\";\nimport { Link } from \"react-router-dom\";\nimport { Button, ButtonRow, Switch, DropdownButton, ButtonLink, TextInput} from \"./Buttons\";\n\n\nexport function SmallText(props) {\n    return (<span className={styles.SmallText}>{props.children}</span>);\n}\n\nexport function EditableText(props) {\n    return (<p>{props.children}</p>);\n}\n\nexport function SettingsRow(props) {\n    return <div className={styles.SettingsRow}>{props.children}</div>;\n}\n\nexport function SmallIntInput(props) {\n    return <input type=\"text\" className={styles.SmallInput} defaultValue={props.value} />;\n}\n\nexport function ServerInfo(props) {\n    var server = props.server;\n    return (\n        <>\n            <div className={styles.ServerInfoColumn}>\n                <SettingsRow>\n                    <SmallText>Auto kick/ban</SmallText>\n                </SettingsRow>\n                <SettingsRow>\n                    <SmallText>Kick on ping</SmallText>\n                </SettingsRow>\n                <SettingsRow>\n                    <SmallText>Discord bot channel</SmallText>\n                </SettingsRow>\n                <SettingsRow>\n                    <SmallText>Bot lang</SmallText> \n                </SettingsRow>\n            </div>\n            <div className={styles.ServerDescriptionColumn}>\n                <SettingsRow>\n                    <Switch checked={server.autoBanKick} callback={() => { }} />\n                </SettingsRow>\n                <SettingsRow>\n                    <SmallIntInput value={server.autoPingKick} />\n                </SettingsRow>\n                <SettingsRow>\n                    <SmallIntInput value={server.discordBotChannel} />\n                </SettingsRow>\n                <SettingsRow>\n                    <SmallIntInput value={server.discordBotLang} />\n                </SettingsRow>\n            </div>\n            <div className={styles.ServerDescriptionColumn}>\n                <SettingsRow>\n                    <SmallText>Bot Min players</SmallText>\n                </SettingsRow>\n                <SettingsRow>\n                    <SmallText>Bot Prev Req Count</SmallText>\n                </SettingsRow>\n                <SettingsRow>\n                    <SmallText>Bot Started Amount</SmallText>\n                </SettingsRow>\n            </div>\n            <div className={styles.ServerDescriptionColumn}>\n                <SettingsRow>\n                    <SmallIntInput value={server.discordBotMinPlayerAmount} />\n                </SettingsRow>\n                <SettingsRow>\n                    <SmallIntInput value={server.discordBotPrevReqCount} />\n                </SettingsRow>\n                <SettingsRow>\n                    <SmallIntInput value={server.discordBotStartedAmount} />\n                </SettingsRow>\n            </div>\n        </>\n    );\n}\n\nexport function ServerRotation(props) {\n    \n    var server = null, game = null;\n    if (props.game && props.game.data && props.game.data.length > 0) {\n        server = props.game.data[0];\n        game = server.info;\n    }\n\n    var [rotationId, setRotationId] = useState(\"\"); \n    return (\n        <div className={styles.ServerInfoColumn}>\n            <div className={styles.ServerDescriptionRow}>\n                <img className={styles.serverImage} src={(game) ? game.url : \"/no-server-image.png\"} />\n                <div className={styles.GameInfo}>\n                    <span className={styles.ServerName}>{(game) ? game.prefix : \"Loading\" }</span>\n                    <SmallText>{(game) ? `${game.map} - ${game.mode} - ${game.serverInfo} players` : \"-\"}</SmallText>\n                </div>\n            </div>\n            <div className={(server) ? (server.isAdmin) ? styles.serverStatusOk : styles.serverStatusErr : styles.serverStatus }>\n                <span>Status: {(server) ? (server.isAdmin) ? \"Managable\" : \"Permission denied\" : \"Pending..\"}</span>\n            </div>\n            <ButtonRow>\n                <Button name=\"Restart\" disabled={!game} callback={_ => props.rotate((game) ? game.rotationId : null)} />\n                <select className={styles.SwitchGame} value={rotationId} onChange={e => setRotationId(e.target.value)}>\n                    <option value=\"\">Switch game..</option>\n                    {(game) ? game.rotation.map((value, i) =>\n                        <option value={value.index} key={i}>{value.mapname}</option>\n                    ) : \"\"}\n                </select>\n                {(rotationId !== \"\") ? <Button name=\"Apply\" disabled={!game} callback={_ => { props.rotate((game) ? rotationId : null); setRotationId(\"\"); }} /> : \"\"}\n            </ButtonRow>\n        </div>\n    );\n}\n\nexport function PlayerInfo(props) {\n\n    var info = props.game.data[0].players[props.team].players;\n\n    var moveTeam = (props.team == \"0\") ? \"1\" : \"2\";\n\n    let getDropdownOptions = (player) => {\n        return [\n            { name: \"Give VIP\", callback: () => props.giveVip.mutate({ sid: props.sid, name: player.name, reason: \"\" }) },\n            { name: \"Remove VIP\", callback: () => props.removeVip.mutate({ sid: props.sid, name: player.name, reason: \"\" }) },\n        ]\n    };\n    return (\n        info.map((player, i) => \n            <div className={styles.PlayerRow} key={i}>\n                <span className={styles.PlayerName}>\n                    {player.platoon !== \"\" ? `[${player.platoon}] ` : \"\"}\n                    {player.name}\n                    {\" - \"}\n                    {player.ping}\n                </span>\n                <div className={styles.PlayerButtons}>\n                    {/*<Button name=\"Stats\"></Button>*/}\n                    <Button name=\"Move\" callback={_ => props.onMove.mutate({ sid: props.sid, name: player.name, team: moveTeam})} />\n                    <ButtonLink name=\"Kick\" to={`/server/${props.sid}/kick/${player.name}/`} />\n                    <ButtonLink name=\"Ban\" to={`/server/${props.sid}/ban/${player.name}/`} />\n                    <DropdownButton options={getDropdownOptions(player)} name=\"\"></DropdownButton>\n                </div>\n            </div>\n        )\n    );\n}\n\nexport function ServerInfoHolder(props) {\n    return (\n        <div className={styles.ServerInfoRow}>\n            {props.children}\n        </div>\n    );\n}\n\nexport function BanList(props) {\n    if (!props.banList) {\n        return \"Loading..\";\n    }\n    const banList = props.banList;\n    return (\n        <div>\n            <h5>\n                List of banned players on this server.<br />\n                Used <b>{banList.data[0].players.length} slots out of 200</b>.\n                Use our group-based virtual ban list,<br /> to ban unlimited amount of players.\n            </h5>\n            <TextInput name={\"Search..\"} />\n            <div style={{ maxHeight: \"400px\", overflowY: \"scroll\", marginTop: \"8px\" }}>\n                <table style={{ borderCollapse: \"collapse\", width: \"100%\" }}>\n\n                    <tbody>\n                        {\n                            banList.data[0].players.map(\n                                (player, i) => (<BanRow player={player} key={i} />)\n                            )\n                        }\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    );\n}\n\nfunction BanRow(props) {\n    const player = props.player;\n    return (\n        <tr className={styles.BanRow}>\n            <td className={styles.BanDisplayName}>{player.displayName}</td>\n            <td title=\"Player ID\">{player.id}</td>\n            <td>{player.reason}</td>\n            <td>{player.admin}</td>\n            <td>{player.banned_until}</td>\n            <td>{player.ban_timestamp}</td>\n        </tr>\n    );\n}","import React, { useState } from \"react\";\nimport { useQuery } from 'react-query';\nimport { Redirect } from 'react-router-dom';\nimport { OperationsApi } from \"../api\";\nimport { Column, Card, Header, Button, ButtonRow, Row } from \"../components\";\n\n\nexport default function Home() {\n\n    const { error: userError, data: user, isLoading } = useQuery('user', () => OperationsApi.user);\n    var loginButton = <Button name=\"Loading..\" />;\n\n    if ((!isLoading && !userError && user && !user.auth.signedIn) || (userError && !isLoading)) {\n        loginButton = <Button name=\"Login with Discord\" callback={() => { OperationsApi.openLoginPage() }} />;\n    } else if (!isLoading && !userError && user && user.auth.signedIn) {\n        return <Redirect to=\"/account/\" />\n    }\n\n    return (\n        <Row>\n            <Column>\n                <Header>\n                    <h2>Server Panel</h2>\n                </Header>\n                <Card style={{ maxWidth: '800px' }}>\n                    <h2>Introducing new tools</h2>\n                    <p>Community Network developed server panel to controll Battlefield 1 servers with our internal APIs. With server panel you can manage your servers and setup Discord integration. Instantly add and remove server admins, via the server panel or discord roles. Your admins can ban, kick, move players, add VIPs, revoke bans, watch ban list with more details, download ban and vip lists. As an owner you can access logs and see every action that was made via server panel. We integrating our tools tightly, providing Discord commands to administrate your servers.</p>\n                    <p>Contact us to get unlimited free access!</p>\n                    <ButtonRow>{loginButton}</ButtonRow>\n                </Card>\n            </Column>\n        </Row>\n    );\n\n}","import React, { useState } from \"react\";\nimport { useQuery } from 'react-query';\nimport { Redirect } from 'react-router-dom';\nimport { OperationsApi } from \"../api\";\nimport { Column, Card, Header, Button, CardRow, UserRow, Row } from \"../components\";\n\n\nexport default function Account() {\n\n    const { error: userError, data: user, isLoading } = useQuery('user', () => OperationsApi.user);\n    var userLine = \"\";\n\n    if (!userError && !isLoading && user) {\n        if (!user.auth.signedIn) {\n            return <Redirect to=\"/\" />;\n        } else {\n            userLine = <UserRow discord={user.discord} />;\n        }\n    } else if (userError && !isLoading) {\n        return <Redirect to=\"/\" />;\n    }\n\n    return (\n        <Row>\n            <Column>\n                <Header>\n                    <h2>Account</h2>\n                </Header>\n                <Card>\n                    <h2>Discord Profile</h2>\n                    {userLine}\n                </Card>\n            </Column>\n            <Column>\n                <Header />\n                <Card>\n                    <h2>Permissions</h2>\n                    <CardRow>Administrator</CardRow>\n                    <CardRow>Server owner</CardRow>\n                    <CardRow>System administrator</CardRow>\n                </Card>\n            </Column>\n        </Row>\n    );\n\n}","import React, { useState } from \"react\";\nimport { useQuery } from 'react-query';\nimport { Redirect } from 'react-router-dom';\nimport { OperationsApi } from \"../api\";\nimport { Column, Card, Header, ButtonLink, ButtonRow, GroupRow, Row } from \"../components\";\n\n\nexport function Developer() {\n\n    const { isLoading, isError, data } = useQuery('devGroups', () => OperationsApi.getDevGroups())\n    \n    var groups = [];\n\n    if (!isLoading && !isError && data) {\n        data.data.map((g, i) => {\n            groups.push(<GroupRow key={i} group={g} />);\n        });\n    } else if (isError) {\n        return <Redirect to=\"/\" />;\n    }\n\n    return (\n        <Row>\n            <Column>\n                <Header>\n                    <h2>Developer Options</h2>\n                </Header>\n                <Card>\n                    <h2>List of Groups</h2>\n                    {groups}\n                    <ButtonRow>\n                        <ButtonLink name=\"Add new Group\" to=\"/group/new/\" />\n                    </ButtonRow>\n                </Card>\n            </Column>\n            <Column>\n\n            </Column>\n        </Row>\n    );\n\n}","import React, { useState, useRef } from \"react\";\nimport { useQuery, useQueryClient, useMutation } from 'react-query';\nimport { Redirect, useHistory } from 'react-router-dom';\nimport { OperationsApi } from \"../api\";\nimport { BanList, Column, Card, Header, ServerRotation, ServerInfoHolder, ButtonLink, ButtonRow, Button, PageCard, Row, ServerRow, Grow, TextInput, SmallButton, ServerInfo, PlayerInfo } from \"../components\";\n\n\nexport function Server(props) {\n    var sid = props.match.params.sid;\n\n    const queryClient = useQueryClient();\n\n    const { isError: serverError, data: server } = useQuery('server' + sid, () => OperationsApi.getServer(sid), { staleTime: 60000 });\n    const { isError: gameError, data: runningGame } = useQuery('serverGame' + sid, () => OperationsApi.getServerGame(sid), { staleTime: 60000 });\n\n    const { isError: banListGettingError, data: banList } = useQuery('serverBanList' + sid, () => OperationsApi.getBanList({ sid }), { staleTime: 60000 });\n\n    var serverCard = \"\";\n    var playerList = \"\";\n    var playerInGame = false;\n    var playerNicknameTeam;\n\n    var [playerName, setPlayerName] = useState(\"\");\n\n    var [addVipStatus, changeAddVipStatus] = useState({ name: \"Add Vip\", status: false });\n    var [removeVipStatus, changeRemoveVipStatus] = useState({ name: \"Remove Vip\", status: false });\n    var [unbanStatus, changeUnbanStatus] = useState({ name: \"Unban\", status: false });\n\n    var [tabsListing, setTabsListing] = useState(\"info\");\n\n    const UnbanPlayer = useMutation(\n        v => OperationsApi.unbanPlayer(v), {\n        onMutate: async () => {\n            changeUnbanStatus({ name: \"Pending..\", status: true });\n            return { status: unbanStatus }\n        },\n        // If the mutation fails, use the context returned from onMutate to roll back\n        onError: (err, newTodo, context) => {\n\n        },\n        // Always refetch after error or success:\n        onSettled: (data, error, variables, context) => {\n            changeUnbanStatus(context.status);\n        },\n    }\n    );\n\n    const RemoveVip = useMutation(\n        v => OperationsApi.removeVip(v), {\n        onMutate: async () => {\n            changeRemoveVipStatus({ name: \"Pending..\", status: true });\n            return { status: removeVipStatus }\n        },\n        // If the mutation fails, use the context returned from onMutate to roll back\n        onError: (err, newTodo, context) => {\n\n        },\n        // Always refetch after error or success:\n        onSettled: (data, error, variables, context) => {\n            changeRemoveVipStatus(context.status);\n        },\n    }\n    );\n\n    const AddVip = useMutation(\n        v => OperationsApi.addVip(v), {\n        onMutate: async () => {\n            changeAddVipStatus({ name: \"Pending..\", status: true });\n            return { status: addVipStatus }\n        },\n        // If the mutation fails, use the context returned from onMutate to roll back\n        onError: (err, newTodo, context) => {\n\n        },\n        // Always refetch after error or success:\n        onSettled: (data, error, variables, context) => {\n            changeAddVipStatus(context.status);\n        },\n    }\n    );\n\n    const movePlayer = useMutation(\n        variables => OperationsApi.movePlayer(variables),\n        {\n            // When mutate is called:\n            onMutate: async ({ sid, team, name }) => {\n                // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n                await queryClient.cancelQueries('serverGame' + sid)\n                // Snapshot the previous value\n                const previousGroup = queryClient.getQueryData('serverGame' + sid)\n                // Optimistically update to the new value\n                queryClient.setQueryData('serverGame' + sid, old => {\n                    if (team == \"1\") {\n                        old.data[0].players[1].players.push(old.data[0].players[0].players.find(e => e.name === name));\n                        old.data[0].players[0].players = old.data[0].players[0].players.filter(p => p.name !== name);\n                    } else {\n                        old.data[0].players[0].players.push(old.data[0].players[1].players.find(e => e.name === name));\n                        old.data[0].players[1].players = old.data[0].players[1].players.filter(p => p.name !== name);\n                    }\n                    return old;\n                })\n                // Return a context object with the snapshotted value\n                return { previousGroup, sid }\n            },\n            // If the mutation fails, use the context returned from onMutate to roll back\n            onError: (err, newTodo, context) => {\n                queryClient.setQueryData('serverGame' + context.sid, context.previousGroup)\n            },\n            // Always refetch after error or success:\n            onSettled: (data, error, variables, context) => {\n                //queryClient.invalidateQueries('groupId' + context.gid)\n            },\n        }\n    );\n\n    const serverTabs = [\n        {\n            name: \"Server info\",\n            callback: () => setTabsListing(\"info\"),\n        },\n        {\n            name: \"Ban list\",\n            callback: () => setTabsListing(\"banlist\"),\n        },\n        {\n            name: \"Vip players\",\n            callback: () => setTabsListing(\"viplist\"),\n        },\n        {\n            name: \"Settings\",\n            callback: () => setTabsListing(\"settings\"),\n        }\n    ];\n\n    const catTabs = {\n        info: (\n            <ServerInfoHolder>\n                <ServerRotation game={runningGame} rotate={id => OperationsApi.changeRotation({ sid, map: id })} />\n            </ServerInfoHolder>\n        ),\n        banlist: <BanList banList={banList} />,\n        viplist: \"\",\n        settings: (\n            <>\n                <p>Servers can be attached to Discord bots. <br /> Main bot settings for current server.</p>\n                <ServerInfoHolder>\n                    <ServerInfo server={server} />\n                </ServerInfoHolder>\n            </>\n        )\n    }\n\n    //if (!serverError && server && !gameError && runningGame) {\n    serverCard = (\n        <Row>\n            <Column>\n                <PageCard buttons={serverTabs} >\n                    {catTabs[tabsListing]}\n                </PageCard>\n            </Column>\n        </Row>\n    );\n    //}\n\n    var isOpsMode = false;\n\n    if (!gameError && runningGame) {\n\n        isOpsMode = runningGame.data[0].info.mode === \"Operations\";\n\n        var f1 = runningGame.data[0].players[0].players.find(e => e.name == playerName);\n        var f2 = runningGame.data[0].players[1].players.find(e => e.name == playerName);\n\n        if (f1 !== undefined) {\n            playerNicknameTeam = \"1\";\n        } else if(f2 !== undefined) {\n            playerNicknameTeam = \"2\";\n        }\n\n        var playerInGame = (playerName !== \"\") &&\n            (\n                (f1 !== undefined) || (f2 !== undefined)\n            );\n\n        playerList = (\n            <Row>\n                <Column>\n                    <Card>\n                        <h2>Team 1</h2>\n                        <PlayerInfo game={runningGame} team=\"0\" sid={sid} onMove={movePlayer} giveVip={AddVip} removeVip={RemoveVip} /> \n                    </Card>\n                </Column>\n                <Column>\n                    <Card>\n                        <h2>Team 2</h2>\n                        <PlayerInfo game={runningGame} team=\"1\" sid={sid} onMove={movePlayer} giveVip={AddVip} removeVip={RemoveVip} /> \n                    </Card>\n                </Column>\n            </Row>\n        )\n    }\n\n    return (\n        <>\n            <Row>\n                <Column>\n                    <Header>\n                        <h2>Dashboard</h2>\n                    </Header>\n                </Column>\n            </Row>\n            {serverCard}\n            <Row>\n                <Column>\n                    <Card>\n                        <h2>Console</h2>\n                        <Row>\n                            <TextInput name=\"Player name\" callback={e => setPlayerName(e.target.value)} style={{\n                                marginRight: 12,\n                            }}/>\n                            <ButtonRow>\n                                <ButtonLink disabled={playerName === \"\"} name=\"Kick\" to={`/server/${sid}/kick/${playerName}/`} />\n                                <Button disabled={!playerInGame} name=\"Move\" callback={_ => movePlayer.mutate({ sid, team: playerNicknameTeam, name: playerName })} />\n                                <ButtonLink disabled={playerName === \"\"} name=\"Ban\" to={`/server/${sid}/ban/${playerName}/`} />\n                                <Button disabled={playerName === \"\" || unbanStatus.status} name={unbanStatus.name} callback={_ => UnbanPlayer.mutate({ sid, name: playerName, reason: \"\" })} />\n                                <Button disabled={playerName === \"\" || addVipStatus.status || isOpsMode} name={addVipStatus.name} callback={_ => AddVip.mutate({ sid, name: playerName, reason: \"\" })}  />\n                                <Button disabled={playerName === \"\" || removeVipStatus.status || isOpsMode} name={removeVipStatus.name} callback={_ => RemoveVip.mutate({ sid, name: playerName, reason: \"\" })}  />\n                            </ButtonRow>\n                        </Row>\n                    </Card>\n                </Column>\n            </Row>\n            {playerList}\n        </>\n    );\n\n}\n\n\nfunction ServerKickPlayer(props) {\n\n    var { sid, eaid } = props;\n\n    var [reason, setReason] = useState(\"\");\n    const queryClient = useQueryClient();\n\n    const KickPlayer = useMutation(\n        v => OperationsApi.kickPlayer(v),\n        {\n            // When mutate is called:\n            onMutate: async ({ sid, eaid, reason }) => {\n                // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n                await queryClient.cancelQueries('serverGame' + sid)\n                // Snapshot the previous value\n                const previousGroup = queryClient.getQueryData('serverGame' + sid)\n                // Optimistically update to the new value\n                queryClient.setQueryData('serverGame' + sid, old => {\n                    old.data[0].players[0].players = old.data[0].players[0].players.filter(e => e.name !== eaid);\n                    old.data[0].players[1].players = old.data[0].players[1].players.filter(e => e.name !== eaid);\n                    return old;\n                })\n                // Return a context object with the snapshotted value\n                return { previousGroup, sid }\n            },\n            // If the mutation fails, use the context returned from onMutate to roll back\n            onError: (err, newTodo, context) => {\n                queryClient.setQueryData('serverGame' + context.sid, context.previousGroup)\n            },\n            // Always refetch after error or success:\n            onSettled: (data, error, variables, context) => {\n                //queryClient.invalidateQueries('groupId' + context.gid)\n            },\n        }\n    );\n\n    const history = useHistory();\n\n    return (\n        <Row>\n            <Column>\n                <Header>\n                    <h2>Kick player</h2>\n                </Header>\n                <Card>\n                    <h2>You are going to kick player {props.eaid}</h2>\n                    <TextInput name=\"Reason\" callback={(e) => setReason(e.target.value)} />\n                    <ButtonRow>\n                        <ButtonLink name=\"Chancel\" to={`/server/${props.sid}/`} />\n                        <Button name=\"Kick him!\" disabled={reason === \"\"} callback={() => { KickPlayer.mutate({ sid, eaid, reason, playername: props.eaid }); history.push(`/server/${props.sid}/`); }} />\n                    </ButtonRow>\n                </Card>\n            </Column>\n        </Row>\n    );\n}\n\nfunction ServerBanPlayer(props) {\n\n    var { sid, eaid } = props;\n\n    var [reason, setReason] = useState(\"\");\n    var [banTime, setBanTime] = useState(0);\n    const queryClient = useQueryClient();\n\n    const BanPlayer = useMutation(\n        v => OperationsApi.banPlayer(v),\n        {\n            // When mutate is called:\n            onMutate: async ({ sid, eaid }) => {\n                // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n                await queryClient.cancelQueries('serverGame' + sid)\n                // Snapshot the previous value\n                const previousGroup = queryClient.getQueryData('serverGame' + sid)\n                // Optimistically update to the new value\n                queryClient.setQueryData('serverGame' + sid, old => {\n                    old.data[0].players[0].players = old.data[0].players[0].players.filter(e => e.name !== eaid);\n                    old.data[0].players[1].players = old.data[0].players[1].players.filter(e => e.name !== eaid);\n                    return old;\n                })\n                // Return a context object with the snapshotted value\n                return { previousGroup, sid }\n            },\n            // If the mutation fails, use the context returned from onMutate to roll back\n            onError: (err, newTodo, context) => {\n                queryClient.setQueryData('serverGame' + context.sid, context.previousGroup)\n            },\n            // Always refetch after error or success:\n            onSettled: (data, error, variables, context) => {\n                //queryClient.invalidateQueries('groupId' + context.gid)\n            },\n        }\n    );\n\n    const history = useHistory();\n\n    return (\n        <Row>\n            <Column>\n                <Header>\n                    <h2>Ban player</h2>\n                </Header>\n                <Card>\n                    <h2>You are going to ban player {props.eaid}</h2>\n                    <TextInput name=\"Reason\" callback={(e) => setReason(e.target.value)} />\n                    <TextInput type=\"number\" name=\"Ban time\" defaultValue={0} callback={(e) => setBanTime(e.target.value)} />\n                    <ButtonRow>\n                        <ButtonLink name=\"Chancel\" to={`/server/${props.sid}/`} />\n                        <Button name=\"Ban hammer!\" disabled={reason === \"\" || banTime < 0} callback={() => { BanPlayer.mutate({ sid, eaid, reason, name: props.eaid, time: banTime }); history.push(`/server/${props.sid}/`); }} />\n                    </ButtonRow>\n                </Card>\n            </Column>\n        </Row>\n    );\n}\n\nexport function ServerAction(props) {\n\n    var { eaid, action, sid } = props.match.params;\n\n    if (action === \"kick\") {\n        return <ServerKickPlayer eaid={eaid} sid={sid} />;\n    } else if (action === \"ban\") {\n        return <ServerBanPlayer eaid={eaid} sid={sid} />;\n    }\n\n    return (\n        <Row>\n            <Column>\n                <Header>\n                    <h2>Uh? Method {action} is not allowed..</h2>\n                </Header>\n            </Column>\n        </Row>\n    );\n\n}","import React, { useState, useEffect } from \"react\";\nimport { useQuery, useQueryClient, useMutation } from 'react-query';\nimport { Redirect, useHistory } from 'react-router-dom';\nimport { OperationsApi } from \"../api\";\nimport { GameStatsAd, Column, Card, Header, ButtonLink, ButtonRow, Button, UserStRow, Row, ServerRow, FakeUserStRow, TextInput, SmallButton, PageCard } from \"../components\";\n\n\nconst deleteIcon = (\n    <svg viewBox=\"0 0 24 24\" style={{ width: '16px' }}>\n        <path fill=\"currentColor\" d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" />\n    </svg>\n);\n\n\nexport function Group(props) {\n\n    var gid = props.match.params.gid;\n\n    const queryClient = useQueryClient();\n\n    const { error: groupError, data: groups } = useQuery('groupId' + gid, () => OperationsApi.getGroup(gid), { staleTime: 30000 });\n    const { error: userError, data: user } = useQuery('user', () => OperationsApi.user);\n\n\n    const removeAdmin = useMutation(\n        variables => OperationsApi.removeGroupAdmin(variables),\n        {\n            // When mutate is called:\n            onMutate: async ({ gid, uid }) => {\n                // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n                await queryClient.cancelQueries('groupId' + gid)\n                // Snapshot the previous value\n                const previousGroup = queryClient.getQueryData('groupId' + gid)\n                // Optimistically update to the new value\n                const UTCNow = new Date(Date.now()).toUTCString();\n\n                queryClient.setQueryData('groupId' + gid, old => {\n                    old.data[0].admins = old.data[0].admins.filter(admin => admin.id !== uid);\n                    return old;\n                })\n                // Return a context object with the snapshotted value\n                return { previousGroup, gid }\n            },\n            // If the mutation fails, use the context returned from onMutate to roll back\n            onError: (err, newTodo, context) => {\n                queryClient.setQueryData('groupId' + context.gid, context.previousGroup)\n            },\n            // Always refetch after error or success:\n            onSettled: (data, error, variables, context) => {\n                queryClient.invalidateQueries('groupId' + context.gid)\n            },\n        }\n    );\n\n    const removeServer = useMutation(\n        variables => OperationsApi.removeServer(variables),\n        {\n            // When mutate is called:\n            onMutate: async ({ gid, sid }) => {\n                // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n                await queryClient.cancelQueries('groupId' + gid)\n                // Snapshot the previous value\n                const previousGroup = queryClient.getQueryData('groupId' + gid)\n                // Optimistically update to the new value\n                queryClient.setQueryData('groupId' + gid, old => {\n                    old.data[0].servers = old.data[0].servers.filter(server => server.id !== sid);\n                    return old;\n                })\n                // Return a context object with the snapshotted value\n                return { previousGroup, gid }\n            },\n            // If the mutation fails, use the context returned from onMutate to roll back\n            onError: (err, newTodo, context) => {\n                queryClient.setQueryData('groupId' + context.gid, context.previousGroup)\n            },\n            // Always refetch after error or success:\n            onSettled: (data, error, variables, context) => {\n                queryClient.invalidateQueries('groupId' + context.gid)\n            },\n        }\n    );\n\n\n\n    const removeOwner = useMutation(\n        variables => OperationsApi.removeGroupOwner(variables),\n        {\n            // When mutate is called:\n            onMutate: async ({ gid, uid }) => {\n                // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n                await queryClient.cancelQueries('groupId' + gid)\n                // Snapshot the previous value\n                const previousGroup = queryClient.getQueryData('groupId' + gid)\n                // Optimistically update to the new value\n                const UTCNow = new Date(Date.now()).toUTCString();\n\n                queryClient.setQueryData('groupId' + gid, old => {\n                    old.data[0].owners = old.data[0].owners.filter(admin => admin.id !== uid);\n                    return old;\n                })\n                // Return a context object with the snapshotted value\n                return { previousGroup, gid }\n            },\n            // If the mutation fails, use the context returned from onMutate to roll back\n            onError: (err, newTodo, context) => {\n                queryClient.setQueryData('groupId' + context.gid, context.previousGroup)\n            },\n            // Always refetch after error or success:\n            onSettled: (data, error, variables, context) => {\n                queryClient.invalidateQueries('groupId' + context.gid)\n            },\n        }\n    );\n\n\n    var group = (groups && groups.data && groups.data.length > 0) ? groups.data[0] : null;\n    const [listing, setListing] = useState(\"servers\");\n    const [settingsListing, setSettingsListing] = useState(\"account\");\n\n    const catListing = {\n        owners: <GroupOwners group={group} user={user} gid={gid} onDelete={removeOwner} />,\n        admins: <GroupAdmins group={group} user={user} gid={gid} onDelete={removeAdmin} />,\n        servers: <GroupServers group={group} user={user} gid={gid} onDelete={removeServer} />,\n    }\n\n    const catSettings = {\n        account: <GroupServerAccount gid={gid} user={user} group={group} />,\n        discord: <GroupDiscordSettings gid={gid} user={user} group={group} />,\n        danger: <GroupDangerZone gid={gid} user={user} group={group} />,\n    }\n\n    const pageCycle = [\n        {\n            name: \"Servers\",\n            callback: () => setListing(\"servers\"),\n        },\n        {\n            name: \"Admins\",\n            callback: () => setListing(\"admins\"),\n        },\n        {\n            name: \"Owners\",\n            callback: () => setListing(\"owners\"),\n        },\n    ]\n\n    const settingsCycle = [\n        {\n            name: \"Server account\",\n            callback: () => setSettingsListing(\"account\"),\n        },\n        {\n            name: \"Discord integration\",\n            callback: () => setSettingsListing(\"discord\"),\n        },\n        {\n            name: \"Danger zone\",\n            callback: () => setSettingsListing(\"danger\"),\n        },\n    ];\n\n    if (groupError || userError || (groups && groups.data && groups.data.length === 0)) {\n        return <Redirect to=\"/\" />;\n    }\n\n    return (\n        <>\n            <Row>\n                <Column>\n                    <Header>\n                        <h2>Group</h2>\n                    </Header>\n                </Column>\n            </Row>\n            <Row>\n                <Column>\n                    <Card>\n                        <h2>Group name - {(group) ? group.groupName : \"pending..\"}</h2>\n                        <p style={{ marginBottom: 0 }}>Identity {gid}</p>\n                    </Card>\n                </Column>\n            </Row>\n            <Row>\n                <Column>\n                    <PageCard buttons={settingsCycle} >\n                        {catSettings[settingsListing]}\n                    </PageCard>\n                </Column>\n            </Row>\n            <Row>\n                <Column>\n                    <PageCard buttons={pageCycle} >\n                        {catListing[listing]}\n                    </PageCard>\n                 </Column>\n            </Row>\n        </>\n    );\n\n\n}\n\nfunction GroupAdmins(props) {\n\n    var hasRights = false;\n\n    if (props.group && props.user) hasRights = props.group.isOwner || props.user.auth.isDeveloper;\n\n    const fakeListing = [1, 1, 1];\n\n    let adminList;\n    if (props.group) {\n        adminList = [...props.group.admins];\n        adminList.sort((a, b) => Date.parse(b.addedAt) - Date.parse(a.addedAt));\n    }\n\n    return <>\n        <h5>Admin role can manage servers. You need to have at least <br />Owner role to add new admins.</h5>\n        {\n            (props.group) ? (\n                adminList.map((admin, i) => (\n                    <UserStRow user={admin} key={i} button={\n                        <SmallButton\n                            name=\"Delete\"\n                            disabled={!hasRights}\n                            content={deleteIcon}\n                            vars={{ gid: props.gid, uid: admin.id }}\n                            callback={props.onDelete.mutate} />\n                    } />\n                ))\n            ) : (\n                fakeListing.map((_, i) => <FakeUserStRow key={i} />)\n            )\n        }\n        <ButtonRow>\n            {\n                (hasRights) ? (\n                    <ButtonLink name=\"Add Admin\" to={\"/group/\" + props.gid + \"/add/admin\"} />\n                ) : (\n                    <Button disabled={true} name=\"Not allowed\" content=\"Add Admin\" />\n                )\n            }\n        </ButtonRow>\n    </>;\n}\n\n\nfunction GroupServers(props) {\n\n    var hasRights = false;\n\n    if (props.group && props.user) hasRights = props.group.isOwner || props.user.auth.isDeveloper;\n\n    const fakeListing = [1, 1, 1];\n\n    return <>\n        <h5>Servers instances added to current group. You need to have <br />Owner role in order to add new servers.</h5>\n        {\n            (props.group) ? (\n                props.group.servers.map((server, i) => (\n                    <ServerRow server={server} key={i} button={\n                        <SmallButton\n                            name=\"Delete\"\n                            content={deleteIcon}\n                            disabled={!hasRights}\n                            vars={{ gid: props.gid, sid: server.id }}\n                            callback={props.onDelete.mutate}\n                        />\n                    } />\n                ))\n            ) : (\n                fakeListing.map((_, i) => <FakeUserStRow key={i} />)\n            )\n        }\n        <ButtonRow>\n            {\n                (hasRights) ? (\n                    <ButtonLink name=\"Add Server\" to={\"/group/\" + props.gid + \"/add/server\"} />\n                ) : (\n                    <Button disabled={true} name=\"Not allowed\" content=\"Add Server\" />\n                )\n            }\n        </ButtonRow>\n    </>;\n}\n\nfunction GroupOwners(props) {\n\n    var hasRights = false;\n    if (props.group && props.user) hasRights = props.group.isOwner || props.user.auth.isDeveloper;\n\n    const fakeListing = [1, 1, 1];\n\n    let ownerList;\n    if (props.group) {\n        ownerList = [...props.group.owners];\n        ownerList.sort((a, b) => Date.parse(b.addedAt) - Date.parse(a.addedAt));\n    }\n\n    return <>\n        <h5>List of current group Owners. This role can add new Servers, <br />Admins and other owners. Be carefull with it!</h5>\n        {\n            (ownerList) ? (\n                ownerList.map((owner, i) => (\n                    <UserStRow user={owner} key={i} button={\n                        <SmallButton\n                            name=\"Delete\"\n                            content={deleteIcon}\n                            disabled={!hasRights}\n                            vars={{ gid: props.gid, uid: owner.id }}\n                            callback={props.onDelete.mutate}\n                        />\n                    } />\n                ))\n            ) : (\n                fakeListing.map((_, i) => <FakeUserStRow key={i} />)\n            )\n        }\n        <ButtonRow>\n            {\n                (hasRights) ? (\n                    <ButtonLink name=\"Add Owner\" to={\"/group/\" + props.gid + \"/add/owner\"} />\n                ) : (\n                    <Button disabled={true} name=\"Not allowed\" content=\"Add Owner\" />\n                )\n            }\n        </ButtonRow>\n    </>;\n}\n\n\nfunction GroupServerAccount(props) {\n    var allowedTo = false;\n    if (props.group && props.user) allowedTo = props.group.isOwner || props.user.auth.isDeveloper;\n\n    const queryClient = useQueryClient();\n\n    const [sid, setSid] = useState(\"\");\n    const [remid, setRemid] = useState(\"\");\n    const [applyStatus, setApplyStatus] = useState(null);\n\n    useEffect(() => {\n        if (props.group) {\n            if (remid !== props.group.cookie.remid)\n                setRemid(props.group.cookie.remid);\n            if (sid !== props.group.cookie.sid)\n                setSid(props.group.cookie.sid);\n        } \n    }, [props.group]);\n\n    const editCookies = useMutation(\n        variables => OperationsApi.editGroup(variables),\n        {\n            onMutate: async () => {\n                setApplyStatus(true);\n            },\n            onSuccess: async () => {\n                setApplyStatus(null);\n            },\n            onError: async () => {\n                setApplyStatus(false);\n                setTimeout(_ => setApplyStatus(null), 2000);\n            },\n            onSettled: async () => {\n                queryClient.invalidateQueries('groupId' + props.gid);\n            }\n        }\n    );\n\n    return (\n        <>\n            <h5 style={{ marginTop: \"0px\" }}>\n                Account manager, that will administrate your servers.<br />\n                These cookies can be found at <i>accounts.ea.com</i>\n            </h5>\n\n            <Row>\n                <TextInput type=\"password\" disabled={!allowedTo} callback={(e) => setRemid(e.target.value)} defaultValue={remid} name={\"Remid\"} />\n                <p style={{ margin: \"0 0 0 20px\", alignSelf: \"center\" }}>\n                    Reminder cookies\n                </p>\n            </Row>\n            <Row>\n                <TextInput type=\"password\" disabled={!allowedTo} callback={(e) => setSid(e.target.value)} defaultValue={sid} name={\"Sid\"} />\n                <p style={{ margin: \"0 0 0 20px\", alignSelf: \"center\" }}>\n                    Session cookies\n                </p>\n            </Row>\n            {\n                (props.group && (sid !== props.group.cookie.sid || remid !== props.group.cookie.remid)) ? (\n                    <ButtonRow>\n                        <Button name=\"Apply\" disabled={!allowedTo || applyStatus !== null} callback={\n                            _ => editCookies.mutate(\n                                {\n                                    gid: props.gid,\n                                    value: {\n                                        cookie: { sid, remid }\n                                    }\n                                }\n                            )\n                        } status={applyStatus} />\n                    </ButtonRow>\n                ): \"\"\n            }\n        </>\n    );\n}\n\nfunction GroupDiscordSettings(props) {\n    var allowedTo = false;\n    if (props.group && props.user) allowedTo = props.group.isOwner || props.user.auth.isDeveloper;\n\n    const queryClient = useQueryClient();\n\n    const [adminId, setAdminId] = useState(\"\");\n    const [modId, setModId] = useState(\"\");\n    const [serverId, setServerId] = useState(\"\");\n    const [applyStatus, setApplyStatus] = useState(null);\n\n    useEffect(() => {\n        if (props.group) {\n\n            if (serverId !== props.group.discordGroupId)\n                setServerId(props.group.discordGroupId);\n\n            if (modId !== props.group.discordModRoleId)\n                setModId(props.group.discordModRoleId);\n\n            if (adminId !== props.group.discordAdminRoleId)\n                setAdminId(props.group.discordAdminRoleId);\n\n        }\n    }, [props.group]);\n\n    const editDiscordDetails = useMutation(\n        variables => OperationsApi.editGroup(variables),\n        {\n            onMutate: async () => {\n                setApplyStatus(true);\n            },\n            onSuccess: async () => {\n                setApplyStatus(null);\n            },\n            onError: async () => {\n                setApplyStatus(false);\n                setTimeout(_ => setApplyStatus(null), 2000);\n            },\n            onSettled: async () => {\n                queryClient.invalidateQueries('groupId' + props.gid);\n            }\n        }\n    );\n\n    return (\n        <>\n            <GameStatsAd />\n            <h5 style={{ marginTop: \"8px\" }}>\n                With our bot, you can allow admins to controll your servers<br /> by using commands with ! prefix. \n            </h5>\n            <Row>\n                <TextInput disabled={!allowedTo} callback={(e) => setServerId(e.target.value)} defaultValue={serverId} name={\"Discord Server\"} />\n                <p style={{ margin: \"0 0 0 20px\", alignSelf: \"center\" }}>\n                    Your server Discord ID\n                </p>\n            </Row>\n            <h5 style={{ marginTop: \"8px\" }}>\n                Every person with that role id can use<br /> discord commands to contol the server.\n            </h5>\n            <Row>\n                <TextInput disabled={!allowedTo} callback={(e) => setAdminId(e.target.value)} defaultValue={adminId} name={\"Admin Discord ID\"} />\n                <p style={{ margin: \"0 0 0 20px\", alignSelf: \"center\" }}>\n                    Id of Admin role\n                </p>\n            </Row>\n            <Row>\n                <TextInput disabled={!allowedTo} callback={(e) => setModId(e.target.value)} defaultValue={modId} name={\"Mod DIscord ID\"} />\n                <p style={{ margin: \"0 0 0 20px\", alignSelf: \"center\" }}>\n                    Id of Moderator role, moderators can only kick players\n                </p>\n            </Row>\n            {\n                (props.group && (serverId !== props.group.discordGroupId || modId !== props.group.discordModRoleId || adminId !== props.group.discordAdminRoleId)) ? (\n                    <ButtonRow>\n                        <Button name=\"Apply\" disabled={!allowedTo || applyStatus !== null} callback={\n                            _ => editDiscordDetails.mutate(\n                                {\n                                    gid: props.gid,\n                                    value: {\n                                        discordGroupId: serverId,\n                                        discordModRoleId: modId,\n                                        discordAdminRoleId: adminId\n                                    }\n                                }\n                            )\n                        } status={applyStatus} />\n                    </ButtonRow>\n                ) : \"\"\n            }\n        </>\n    );\n}\n\n\nfunction GroupDangerZone(props) {\n\n    var allowedTo = false;\n    if (props.group && props.user) allowedTo = props.group.isOwner || props.user.auth.isDeveloper;\n\n    const queryClient = useQueryClient();\n\n    const [groupName, setGroupName] = useState(\"\");\n    const [applyStatus, setApplyStatus] = useState(null);\n\n    useEffect(() => {\n\n        if (props.group && groupName !== props.group.groupName) {\n            setGroupName(props.group.groupName);    \n        }\n\n    }, [props.group]);\n\n    const editGroupName = useMutation(\n        variables => OperationsApi.editGroup(variables),\n        {\n            onMutate: async () => {\n                setApplyStatus(true);\n            },\n            onSuccess: async () => {\n                setApplyStatus(null);\n            },\n            onError: async () => {\n                setApplyStatus(false);\n                setTimeout(_ => setApplyStatus(null), 2000);\n            },\n            onSettled: async () => {\n                queryClient.invalidateQueries('groupId' + props.gid);\n            }\n        }\n    );\n\n    return (\n        <>\n            <h5 style={{ marginTop: \"0px\" }}>You can change the name of current Group.</h5>\n            <TextInput disabled={!allowedTo} callback={(e) => setGroupName(e.target.value)} defaultValue={groupName} name={\"Group name\"} />\n            {\n                (props.group && (groupName !== props.group.groupName)) ? (\n                    <ButtonRow>\n                        <Button name=\"Apply changes\" disabled={!allowedTo || applyStatus !== null} callback={\n                            _ => editGroupName.mutate(\n                                {\n                                    gid: props.gid,\n                                    value: {\n                                        groupName,\n                                    }\n                                }\n                            )\n                        } status={applyStatus} />\n                    </ButtonRow>\n                ) : \"\"\n            }\n            <h5 style={{ marginTop: \"8px\" }}>Once you delete a group, it will remove all the servers,<br /> server account and users used in it.</h5>\n            <ButtonRow>\n                <ButtonLink style={{ color: \"#FF7575\"}} name=\"Delete Group\" to={`/group/${props.gid}/delete/`} disabled={!allowedTo} />\n            </ButtonRow>\n        </>\n    );\n}\n\nexport function AddGroupOwner(props) {\n    var gid = props.match.params.gid;\n\n    var nickname = \"\", uid = \"\";\n\n    const queryClient = useQueryClient();\n\n\n    const AddGroupOwnerExecute = useMutation(\n        variables => OperationsApi.addGroupOwner(variables),\n        {\n            // When mutate is called:\n            onMutate: async ({ gid, uid, nickname }) => {\n\n                // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n                await queryClient.cancelQueries('groupId' + gid)\n                // Snapshot the previous value\n                const previousGroup = queryClient.getQueryData('groupId' + gid)\n                // Optimistically update to the new value\n                const UTCNow = new Date(Date.now()).toUTCString();\n                \n                queryClient.setQueryData('groupId' + gid, old => {\n                    old.data[0].owners.push({ id: uid, name: nickname, addedAt: UTCNow });\n                    old.data[0].admins.push({ id: uid, name: nickname, addedAt: UTCNow });\n                    return old;\n                })\n                // Return a context object with the snapshotted value\n                return { previousGroup, gid }\n            },\n            // If the mutation fails, use the context returned from onMutate to roll back\n            onError: (err, newTodo, context) => {\n                queryClient.setQueryData('groupId' + context.gid, context.previousGroup)\n            },\n            // Always refetch after error or success:\n            onSettled: (data, error, variables, context) => {\n                queryClient.invalidateQueries('groupId' + context.gid)\n            },\n        }\n    );\n\n    const history = useHistory();\n\n    return (\n        <Row>\n            <Column>\n                <Header>\n                    <h2>Add new Owner</h2>\n                </Header>\n                <Card>\n                    <h2>Group Owner</h2>\n                    <TextInput name=\"Nickname (any, will be auto-updated)\" callback={(e)=>{nickname=e.target.value}}/>\n                    <TextInput name=\"Discord UID\" callback={(e) => { uid = e.target.value; }}/>\n                    <ButtonRow>\n                        <Button name=\"Add Owner\" callback={() => { AddGroupOwnerExecute.mutate({ gid, uid, nickname }); history.push(\"/group/\" + gid);  }} />\n                    </ButtonRow>\n                </Card>\n            </Column>\n        </Row>\n    );\n\n}\n\nexport function AddGroupAdmin(props) {\n    var gid = props.match.params.gid;\n\n    const [addAdminState, changeState] = useState({ uid: \"\", nickname: \"\", canAdd: false });\n\n    var nickname = \"\", uid = \"\";\n\n    const queryClient = useQueryClient();\n\n\n    const AddGroupAdminExecute = useMutation(\n        variables => OperationsApi.addGroupAdmin(variables),\n        {\n            // When mutate is called:\n            onMutate: async ({ gid, uid, nickname }) => {\n\n                // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n                await queryClient.cancelQueries('groupId' + gid)\n                // Snapshot the previous value\n                const previousGroup = queryClient.getQueryData('groupId' + gid)\n                // Optimistically update to the new value\n                const UTCNow = new Date(Date.now()).toUTCString();\n\n                queryClient.setQueryData('groupId' + gid, old => {\n                    old.data[0].admins.push({ id: uid, name: nickname, addedAt: UTCNow });\n                    return old;\n                })\n                // Return a context object with the snapshotted value\n                return { previousGroup, gid }\n            },\n            // If the mutation fails, use the context returned from onMutate to roll back\n            onError: (err, newTodo, context) => {\n                queryClient.setQueryData('groupId' + context.gid, context.previousGroup)\n            },\n            // Always refetch after error or success:\n            onSettled: (data, error, variables, context) => {\n                queryClient.invalidateQueries('groupId' + context.gid)\n            },\n        }\n    );\n\n    const updateState = (values) => {\n        var newState = {\n            ...addAdminState,\n            ...values\n        };\n        newState.canAdd = newState.uid !== \"\";\n        changeState(newState);\n    }\n\n    const history = useHistory();\n\n    return (\n        <Row>\n            <Column>\n                <Header>\n                    <h2>Add new Admin</h2>\n                </Header>\n                <Card>\n                    <h2>Group Admin</h2>\n                    <TextInput name=\"Nickname (any, will be auto-updated)\" callback={(e) => updateState({nickname: e.target.value}) } />\n                    <TextInput name=\"Discord UID\" callback={(e) => updateState({uid: e.target.value}) } />\n                    <ButtonRow>\n                        <Button name=\"Add Admin\" disabled={!addAdminState.canAdd} callback={() => { AddGroupAdminExecute.mutate({ gid, uid: addAdminState.uid, nickname: addAdminState.nickname }); history.push(\"/group/\" + gid); }} />\n                    </ButtonRow>\n                </Card>\n            </Column>\n        </Row>\n    );\n\n}\n\n\nexport function AddGroup(props) {\n\n    const [addGroupState, changeState] = useState({\n        variables: {\n            groupName: \"\",\n            discordId: \"\",\n            adminRole: \"\",\n            modRole: \"\"\n        },\n        roleDisplay: false,\n        canAdd: false\n    });\n\n    const queryClient = useQueryClient();\n    const history = useHistory();\n\n    const AddNewGroupExecute = useMutation(\n        variables => OperationsApi.addGroup(variables),\n        {\n            onMutate: async (variables) => {\n                await queryClient.cancelQueries('devGroups');\n                return {}\n            },\n            onSettled: (data, error, variables, context) => {\n                queryClient.refetchQueries('devGroups');\n            },\n        }\n    );\n\n    const checkInputVariables = (newVariables) => {\n        var newGroupState = {\n            ...addGroupState,\n            variables: {\n                ...addGroupState.variables,\n                ...newVariables\n            }\n        };\n        let newVars = newGroupState.variables;\n        newGroupState.roleDisplay = (newVars.discordId !== \"\");\n        newGroupState.canAdd =\n            (newVars.groupName !== \"\") && (newVars.remid !== \"\") && (newVars.sid !== \"\");\n        changeState(newGroupState);\n    };\n\n    return (\n        <Row>\n            <Column>\n                <Header>\n                    <h2>Create new Group</h2>\n                </Header>\n                <Card>\n                    <h2>Group info</h2>\n                    <p style={{ marginBottom: \"8px\" }}>\n                        Create a new group to manage your community servers.<br />\n                        <i>NOTE: This tools are in open Beta test</i>\n                    </p>\n                    <TextInput name=\"Name\" callback={(e) => { checkInputVariables({ groupName: e.target.value }) }} />\n                    <h5 style={{ marginTop: \"8px\" }}>\n                        Optionaly, you can add your discord server, to integrate server tools\n                    </h5>\n                    <TextInput name=\"Discord Server ID\" callback={(e) => { checkInputVariables({ discordId: e.target.value }) }} />\n                    <TextInput name=\"Mod role ID\" disabled={!addGroupState.roleDisplay} callback={(e) => { checkInputVariables({ modRole: e.target.value }) }} />\n                    <TextInput name=\"Admin role ID\" disabled={!addGroupState.roleDisplay} callback={(e) => { checkInputVariables({ adminRole: e.target.value }) }} />\n                    <h5 style={{ marginTop: \"8px\" }}>\n                        Every group need to be assigned special account with certain requirments: <br />\n                        It should be a BF1 server moderator (owner access not required)<br />\n                        This account shouldn't be used anywhere else, otherwise it will lead in errors<br />\n                    </h5>\n                    <h5 style={{ marginTop: \"8px\" }}>\n                        Session cookies can be found at <i>accounts.ea.com</i>\n                    </h5>\n                    <TextInput name=\"SID cookie\" type=\"password\" callback={(e) => { checkInputVariables({ sid: e.target.value }) }} />\n                    <h5 style={{ marginTop: \"8px\" }}>\n                        Reminder session cookies can be found at <i>accounts.ea.com</i>\n                    </h5>\n                    <TextInput name=\"REMID cookie\" type=\"password\" callback={(e) => { checkInputVariables({ remid: e.target.value }) }} />\n                    <h5 style={{ marginTop: \"8px\" }}>\n                        By pressing this button, you agree to give <br />server manager tool access to the account.\n                    </h5>\n                    <ButtonRow>\n                        <Button name=\"Create group\" disabled={!addGroupState.canAdd} callback={() => { AddNewGroupExecute.mutate(addGroupState.variables); history.push(\"/dev/\"); }} />\n                    </ButtonRow>\n                </Card>\n            </Column>\n        </Row>\n    );\n}\n\nexport function DeleteGroup(props) {\n\n    var thisGid = props.match.params.gid;\n\n    const queryClient = useQueryClient();\n    const history = useHistory();\n\n    const DeleteGroupExecute = useMutation(\n        variables => OperationsApi.removeGroup(variables),\n        {\n            // When mutate is called:\n            onMutate: async ({ gid }) => {\n                // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n                await queryClient.cancelQueries('devGroups')\n                // Snapshot the previous value\n                const previousGroups = queryClient.getQueryData('devGroups')\n                // Optimistically update to the new value\n                queryClient.setQueryData('devGroups', old => {\n                    if (old) {\n                        old.data = old.data.filter(group => group.id !== gid);\n                    }\n                    return old;\n                })\n                // Return a context object with the snapshotted value\n                return { previousGroups, gid }\n            },\n            // If the mutation fails, use the context returned from onMutate to roll back\n            onError: (err, newTodo, context) => {\n                queryClient.setQueryData('devGroups', context.previousGroups)\n            },\n            // Always refetch after error or success:\n            onSettled: (data, error, variables, context) => {\n                queryClient.invalidateQueries('devGroups')\n            },\n        }\n    );\n\n    return (\n        <Row>\n            <Column>\n                <Header>\n                    <h2>Delete Group</h2>\n                </Header>\n                <Card>\n                    <h2>Danger zone</h2>\n                    <p>Are you sure you want to delete this group?</p>\n                    <ButtonRow>\n                        <ButtonLink name=\"Oh, no!\" to={\"/group/\" + thisGid} />\n                        <Button name=\"Yes, delete\" callback={() => { DeleteGroupExecute.mutate({ gid: thisGid }); history.push(\"/dev/\"); }} />\n                    </ButtonRow>\n                </Card>\n            </Column>\n        </Row>\n    );\n}\n\nexport function AddGroupServer(props) {\n    var gid = props.match.params.gid;\n\n    var name = \"\", alias = \"\";\n\n    const queryClient = useQueryClient();\n\n\n    const AddGroupServerExecute = useMutation(\n        variables => OperationsApi.addGroupServer(variables),\n        {\n            // When mutate is called:\n            onMutate: async({ gid, name, alias }) => {\n\n                // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n                await queryClient.cancelQueries('groupId' + gid)\n                // Snapshot the previous value\n                const previousGroup = queryClient.getQueryData('groupId' + gid)\n                // Optimistically update to the new value\n                const UTCNow = new Date(Date.now()).toUTCString();\n\n                queryClient.setQueryData('groupId' + gid, old => {\n                    old.data[0].servers.push({\n                        \"addedAt\": UTCNow,\n                        \"id\": null,\n                        \"name\": name\n                    });\n                    return old;\n                })\n                // Return a context object with the snapshotted value\n                return { previousGroup, gid }\n            },\n            // If the mutation fails, use the context returned from onMutate to roll back\n            onError: (err, newTodo, context) => {\n                queryClient.setQueryData('groupId' + context.gid, context.previousGroup)\n            },\n            // Always refetch after error or success:\n            onSettled: (data, error, variables, context) => {\n                queryClient.invalidateQueries('groupId' + context.gid)\n            },\n        }\n    );\n\n    const history = useHistory();\n\n    return (\n        <Row>\n            <Column>\n                <Header>\n                    <h2>Add new Server</h2>\n                </Header>\n                <Card>\n                    <h2>Group Server</h2>\n                    <TextInput name=\"Server name\" callback={(e) => { name = e.target.value }} />\n                    <TextInput name=\"Alias (optional)\" callback={(e) => { alias = e.target.value; }} />\n                    <ButtonRow>\n                        <Button name=\"Add Server\" callback={() => { AddGroupServerExecute.mutate({ gid, alias, name }); history.push(\"/group/\" + gid); }} />\n                    </ButtonRow>\n                </Card>\n            </Column>\n        </Row>\n    );\n\n}\n\n\nexport function EditGroup(props) {\n    return (<></>);\n}","import React from \"react\";\nimport { Route, Switch, HashRouter } from 'react-router-dom';\n\nimport Home from \"./Home\";\nimport Account from \"./Account\";\nimport { Developer } from \"./Developer\";\nimport { Server, ServerAction } from \"./Server\";\nimport { Group, AddGroupOwner, EditGroup, AddGroupAdmin, AddGroup, DeleteGroup, AddGroupServer } from \"./Group\";\n\n\n\nexport default function Views(props) {\n    return (\n        <Switch>\n\n            <Route exact path=\"/\" component={Home} />\n\n            <Route exact path=\"/account/\" component={Account} />\n\n            <Route exact path=\"/server/:sid/\" component={Server} />\n            {/* exact path=\"/server/:sid/manage/\" />*/}\n            <Route exact path=\"/server/:sid/:action/:eaid/\" component={ServerAction} />\n\n            <Route exact path=\"/group/new/\" component={AddGroup} />\n            <Route exact path=\"/group/:gid/\" component={Group} />\n\n            <Route exact path=\"/group/:gid/add/server\" component={AddGroupServer} />\n            <Route exact path=\"/group/:gid/add/admin/\" component={AddGroupAdmin} />\n            <Route exact path=\"/group/:gid/add/owner/\" component={AddGroupOwner} />\n\n            <Route exact path=\"/group/:gid/edit/\" component={EditGroup} />\n            <Route exact path=\"/group/:gid/logs/\" />\n            <Route exact path=\"/group/:gid/delete\" component={DeleteGroup} />\n\n            <Route exact path=\"/dev/\" component={Developer} />\n\n        </Switch>\n    );\n}","\nimport React from \"react\";\nimport { HashRouter, useLocation } from 'react-router-dom';\nimport { TransitionGroup, CSSTransition } from \"react-transition-group\";\n\nimport './App.css';\nimport './fade.css';\n\nimport Views from \"./views\";\nimport { createHashHistory } from 'history';\n\nimport { Sidebar, PageContainer, PageColumn } from \"./components\";\n\nexport const history = createHashHistory();\n\nfunction ViewportHolder(props) {\n    return (\n        <div className=\"App\">{props.children}</div>\n    );\n}   \n\nfunction App() {\n\n    let location = useLocation();\n\n    return (\n        <div className=\"App\">\n            <HashRouter>\n                <Sidebar />\n                <TransitionGroup component={PageContainer}>\n                    <CSSTransition key={location.key} classNames=\"fade\" timeout={200}>\n                        <PageColumn>\n                            <Views />\n                        </PageColumn>\n                    </CSSTransition>\n                </TransitionGroup>\n            </HashRouter>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom'\nimport { QueryClient, QueryClientProvider } from 'react-query'\n\nimport App from './App';\n\n\nconst queryClient = new QueryClient();\n\n// Browser rendering\n\nReactDOM.render(\n\n    <React.StrictMode> \n        <QueryClientProvider client={queryClient}>\n            <BrowserRouter>\n                <App />\n            </BrowserRouter>\n        </QueryClientProvider>\n    </React.StrictMode>,\n\n    document.getElementById('root')\n\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SmallText\":\"Server_SmallText__3uOYG\",\"ServerInfoColumn\":\"Server_ServerInfoColumn__35hJK\",\"ServerInfoRow\":\"Server_ServerInfoRow__2Aa7V\",\"serverImage\":\"Server_serverImage__3m2nE\",\"ServerName\":\"Server_ServerName__2irVE\",\"GameInfo\":\"Server_GameInfo__X3Hhq\",\"ServerDescriptionColumn\":\"Server_ServerDescriptionColumn__3pNJs\",\"ServerDescriptionRow\":\"Server_ServerDescriptionRow__12wsx\",\"SwitchGame\":\"Server_SwitchGame__3MjHo\",\"SettingsRow\":\"Server_SettingsRow__2yzpg\",\"SmallInput\":\"Server_SmallInput__1fZ_Z\",\"PlayerRow\":\"Server_PlayerRow__29Z8B\",\"PlayerName\":\"Server_PlayerName__3tLfO\",\"playerBackgroundInfo\":\"Server_playerBackgroundInfo__27qMt\",\"PlayerButtons\":\"Server_PlayerButtons__3dQvb\",\"serverStatus\":\"Server_serverStatus__2bq0e\",\"serverStatusOk\":\"Server_serverStatusOk__g8kKz\",\"serverStatusErr\":\"Server_serverStatusErr__3kLiy\",\"BanRow\":\"Server_BanRow__2CH-s\",\"BanDisplayName\":\"Server_BanDisplayName__1mYLa\"};"],"sourceRoot":""}